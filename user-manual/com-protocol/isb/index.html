
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.inertialsense.com/user-manual/com-protocol/isb/">
      
      <link rel="icon" href="../../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-8.5.10">
    
    
      
        <title>Inertial Sense Binary (ISB) - InertialSense</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.2505c338.min.css">
        
          
          
          <meta name="theme-color" content="#ef5552">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../custom_theme/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="red">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#inertial-sense-binary-isb-protocol" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="InertialSense" class="md-header__button md-logo" aria-label="InertialSense" data-md-component="logo">
      
  <img src="../../../img/Logo_Circle_white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            InertialSense
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Inertial Sense Binary (ISB)
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="InertialSense" class="md-nav__button md-logo" aria-label="InertialSense" data-md-component="logo">
      
  <img src="../../../img/Logo_Circle_white.svg" alt="logo">

    </a>
    InertialSense
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../datasheets/datasheets/" class="md-nav__link">
        Data Sheets
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../dimensions/dimensions/" class="md-nav__link">
        Dimensions and Pinouts
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/Overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/IMX-5/" class="md-nav__link">
        IMX-5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/GPX-1/" class="md-nav__link">
        GPX-1
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Hardware Integration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Hardware Integration" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Hardware Integration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/module_imx6/" class="md-nav__link">
        IMX-6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/module_imx5/" class="md-nav__link">
        IMX-5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/module_gpx1/" class="md-nav__link">
        GPX-1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/rugged3/" class="md-nav__link">
        Rugged-3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/IG1/" class="md-nav__link">
        IG-1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/IG2/" class="md-nav__link">
        IG-2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/IK1/" class="md-nav__link">
        IK-1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/hardware_design/" class="md-nav__link">
        Design Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/reflow/" class="md-nav__link">
        Reflow Soldering
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Software / SDK
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Software / SDK" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Software / SDK
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../software/evaltool/" class="md-nav__link">
        EvalTool
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../software/cltool/" class="md-nav__link">
        CLTool
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../software/SDK/logInspector/" class="md-nav__link">
        Log Inspector
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../software/SDK/overview/" class="md-nav__link">
        SDK Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_5" type="checkbox" id="__nav_6_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_5">
          Example Projects
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Example Projects" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_5">
          <span class="md-nav__icon md-icon"></span>
          Example Projects
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../software/SDK/CommunicationsBinary/" class="md-nav__link">
        Comm-Binary (C)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../software/SDK/CommunicationsAscii/" class="md-nav__link">
        Comm-NMEA (C)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../software/SDK/CommunicationsArduino/" class="md-nav__link">
        Comm-Arduino (C)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../software/SDK/FirmwareUpdate/" class="md-nav__link">
        Firmware Update (C)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../software/SDK/InertialSenseClassCLTool/" class="md-nav__link">
        InertialSense Class CLTool (C++)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../software/SDK/DataLogger/" class="md-nav__link">
        Data Logging (C++)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          IMX
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="IMX" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          IMX
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1" type="checkbox" id="__nav_7_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_1">
          Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuration" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_1">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../imx/application-config/infield_calibration/" class="md-nav__link">
        Infield Calibration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../imx/application-config/platform_configuration/" class="md-nav__link">
        Platform Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../imx/application-config/imu_ins_gnss_configuration/" class="md-nav__link">
        IMU INS GNSS Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../imx/application-config/system_configuration/" class="md-nav__link">
        System Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../imx/application-config/time_sync/" class="md-nav__link">
        Time Sync/Strobe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../imx/application-config/zero_motion_command/" class="md-nav__link">
        Zero Motion Command
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../imx/application-config/UART/" class="md-nav__link">
        UART
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../imx/application-config/world_magnetic_model/" class="md-nav__link">
        World Magnetic Model
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2" type="checkbox" id="__nav_7_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_2">
          Dead Reckoning
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Dead Reckoning" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Dead Reckoning
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../imx/dead-reckoning/dead_reckoning/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../imx/dead-reckoning/dead_reckoning_examples/" class="md-nav__link">
        Examples
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../imx/shock-rejection/imu_shock_rejection/" class="md-nav__link">
        IMU Shock Rejection
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          GPX
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="GPX" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          GPX
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gpx/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/GPX_system_status/" class="md-nav__link">
        GPX System Status
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Communication Protocols
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Communication Protocols" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Communication Protocols
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../DID-descriptions/" class="md-nav__link">
        Data Sets (DIDs)
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Inertial Sense Binary (ISB)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Inertial Sense Binary (ISB)
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#endianness" class="md-nav__link">
    Endianness
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#communication" class="md-nav__link">
    Communication
  </a>
  
    <nav class="md-nav" aria-label="Communication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-data" class="md-nav__link">
    Setting Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-data" class="md-nav__link">
    Getting Data
  </a>
  
    <nav class="md-nav" aria-label="Getting Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-data-command" class="md-nav__link">
    Get Data Command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-source-update-rates" class="md-nav__link">
    Data Source Update Rates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#realtime-message-controller-rmc" class="md-nav__link">
    Realtime Message Controller (RMC)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#persistent-messages" class="md-nav__link">
    Persistent Messages
  </a>
  
    <nav class="md-nav" aria-label="Persistent Messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enabling-persistent-messages-evaltool" class="md-nav__link">
    Enabling Persistent Messages - EvalTool
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enabling-persistent-messages-cltool" class="md-nav__link">
    Enabling Persistent Messages - CLTool
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-projects" class="md-nav__link">
    Example Projects
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parsing-data" class="md-nav__link">
    Parsing Data
  </a>
  
    <nav class="md-nav" aria-label="Parsing Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#one-byte-simple-method" class="md-nav__link">
    One Byte (Simple Method)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-of-bytes-fast-method" class="md-nav__link">
    Set of Bytes (Fast Method)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isb-packet-overview" class="md-nav__link">
    ISB Packet Overview
  </a>
  
    <nav class="md-nav" aria-label="ISB Packet Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#isb-packet" class="md-nav__link">
    ISB Packet
  </a>
  
    <nav class="md-nav" aria-label="ISB Packet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#header-type-and-flags" class="md-nav__link">
    Header Type and Flags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#header-did" class="md-nav__link">
    Header DID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#header-payload-size" class="md-nav__link">
    Header Payload Size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#footer-checksum" class="md-nav__link">
    Footer Checksum
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isb-packet-with-data-offset" class="md-nav__link">
    ISB Packet with Data Offset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isb-packet-with-no-payload" class="md-nav__link">
    ISB Packet with No Payload
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isb-get-data-packet" class="md-nav__link">
    ISB Get Data Packet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stop-broadcasts-packets" class="md-nav__link">
    Stop Broadcasts Packets
  </a>
  
    <nav class="md-nav" aria-label="Stop Broadcasts Packets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#all-ports" class="md-nav__link">
    All Ports
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#current-port-only" class="md-nav__link">
    Current Port Only
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rmc-presets" class="md-nav__link">
    RMC Presets
  </a>
  
    <nav class="md-nav" aria-label="RMC Presets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rmc-preset-stream-ppd" class="md-nav__link">
    RMC Preset Stream PPD
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../nmea/" class="md-nav__link">
        NMEA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../SPI/" class="md-nav__link">
        SPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../CAN/" class="md-nav__link">
        CAN
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          GNSS - RTK
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="GNSS - RTK" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          GNSS - RTK
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_1" type="checkbox" id="__nav_10_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_1">
          Multi-band GNSS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Multi-band GNSS" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_1">
          <span class="md-nav__icon md-icon"></span>
          Multi-band GNSS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gnss/multi_band_gnss_overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gnss/multi_band_GPX/" class="md-nav__link">
        IS GPX-1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gnss/multi_band_F9P/" class="md-nav__link">
        ublox F9P
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gnss/external_gnss/" class="md-nav__link">
        External NMEA GNSS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gnss/gnss_antennas/" class="md-nav__link">
        GNSS Antennas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gnss/gnss_constellations/" class="md-nav__link">
        GNSS Constellations
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_5" type="checkbox" id="__nav_10_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_5">
          RTK Positioning
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="RTK Positioning" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_5">
          <span class="md-nav__icon md-icon"></span>
          RTK Positioning
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gnss/rtk_positioning_overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gnss/rtk_rover/" class="md-nav__link">
        Rover Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gnss/rtk_base/" class="md-nav__link">
        Base Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gnss/rtk_ntrip/" class="md-nav__link">
        NTRIP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gnss/ublox_pointperfect/" class="md-nav__link">
        Point Perfect
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gnss/SBAS/" class="md-nav__link">
        SBAS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../gnss/rtk_compassing/" class="md-nav__link">
        RTK Compassing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          Data Logging/Plotting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data Logging/Plotting" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Data Logging/Plotting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../logging-plotting/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../logging-plotting/data_logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../logging-plotting/data_plotting/" class="md-nav__link">
        Plotting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/bootloader/" class="md-nav__link">
        Bootloader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/coordinate_frames/" class="md-nav__link">
        Coordinate Frames
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/definitions/" class="md-nav__link">
        Definitions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/imu_specifications/" class="md-nav__link">
        IMU Specifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/interference/" class="md-nav__link">
        Interference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/magnetometer/" class="md-nav__link">
        Magnetometer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/IMX_system_status/" class="md-nav__link">
        System Status
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../reference/user_manual_pdf/" class="md-nav__link">
        User Manual PDF
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15" type="checkbox" id="__nav_15" >
      
      
      
      
        <label class="md-nav__link" for="__nav_15">
          Troubleshooting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Troubleshooting" data-md-level="1">
        <label class="md-nav__title" for="__nav_15">
          <span class="md-nav__icon md-icon"></span>
          Troubleshooting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/firmware/" class="md-nav__link">
        Firmware
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/chip_erase/" class="md-nav__link">
        Chip Erase
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/gnss/" class="md-nav__link">
        GNSS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting/imx_bootloader/" class="md-nav__link">
        IMX Bootloader
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#endianness" class="md-nav__link">
    Endianness
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#communication" class="md-nav__link">
    Communication
  </a>
  
    <nav class="md-nav" aria-label="Communication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setting-data" class="md-nav__link">
    Setting Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-data" class="md-nav__link">
    Getting Data
  </a>
  
    <nav class="md-nav" aria-label="Getting Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-data-command" class="md-nav__link">
    Get Data Command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-source-update-rates" class="md-nav__link">
    Data Source Update Rates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#realtime-message-controller-rmc" class="md-nav__link">
    Realtime Message Controller (RMC)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#persistent-messages" class="md-nav__link">
    Persistent Messages
  </a>
  
    <nav class="md-nav" aria-label="Persistent Messages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enabling-persistent-messages-evaltool" class="md-nav__link">
    Enabling Persistent Messages - EvalTool
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enabling-persistent-messages-cltool" class="md-nav__link">
    Enabling Persistent Messages - CLTool
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-projects" class="md-nav__link">
    Example Projects
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parsing-data" class="md-nav__link">
    Parsing Data
  </a>
  
    <nav class="md-nav" aria-label="Parsing Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#one-byte-simple-method" class="md-nav__link">
    One Byte (Simple Method)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-of-bytes-fast-method" class="md-nav__link">
    Set of Bytes (Fast Method)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isb-packet-overview" class="md-nav__link">
    ISB Packet Overview
  </a>
  
    <nav class="md-nav" aria-label="ISB Packet Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#isb-packet" class="md-nav__link">
    ISB Packet
  </a>
  
    <nav class="md-nav" aria-label="ISB Packet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#header-type-and-flags" class="md-nav__link">
    Header Type and Flags
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#header-did" class="md-nav__link">
    Header DID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#header-payload-size" class="md-nav__link">
    Header Payload Size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#footer-checksum" class="md-nav__link">
    Footer Checksum
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isb-packet-with-data-offset" class="md-nav__link">
    ISB Packet with Data Offset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isb-packet-with-no-payload" class="md-nav__link">
    ISB Packet with No Payload
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isb-get-data-packet" class="md-nav__link">
    ISB Get Data Packet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stop-broadcasts-packets" class="md-nav__link">
    Stop Broadcasts Packets
  </a>
  
    <nav class="md-nav" aria-label="Stop Broadcasts Packets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#all-ports" class="md-nav__link">
    All Ports
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#current-port-only" class="md-nav__link">
    Current Port Only
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rmc-presets" class="md-nav__link">
    RMC Presets
  </a>
  
    <nav class="md-nav" aria-label="RMC Presets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rmc-preset-stream-ppd" class="md-nav__link">
    RMC Preset Stream PPD
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="inertial-sense-binary-isb-protocol">Inertial Sense Binary (ISB) Protocol<a class="headerlink" href="#inertial-sense-binary-isb-protocol" title="Permanent link">&para;</a></h1>
<p>The Inertial Sense binary protocol provides the most efficient way to communicate with the IMX and GPX. It uses the native floating point and integer binary format used in computers.  Binary protocol is not human readable like <a href="../nmea/">NMEA Protocol</a>.  Binary protocol uses <a href="../DID-descriptions/">Data Set (DID)</a> C structures defined in SDK/src/data_sets.h of the InertialSense SDK.  </p>
<h2 id="endianness">Endianness<a class="headerlink" href="#endianness" title="Permanent link">&para;</a></h2>
<p>The IMX and GPX devices use little-endian byte order in the ISB protocol.</p>
<h2 id="communication">Communication<a class="headerlink" href="#communication" title="Permanent link">&para;</a></h2>
<p>Writing to and reading from InertialSense products is done using "Set" and "Get" commands.  The following helper function <code>portWrite()</code> which assists with writing data to the serial port is used throughout this document.</p>
<div class="highlight"><pre><span></span><code><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">portWrite</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">serialPortWrite</span><span class="p">(</span><span class="o">&amp;</span><span class="n">serialPort</span><span class="p">,</span><span class="w"> </span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="n">len</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<h3 id="setting-data">Setting Data<a class="headerlink" href="#setting-data" title="Permanent link">&para;</a></h3>
<p>The <code>is_comm_set_data()</code> function will encode a message used to set data or configurations.  </p>
<div class="highlight"><pre><span></span><code><span class="c1">// Set INS output Euler rotation in radians to 90 degrees roll for mounting</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">setInsOutputRotation</span><span class="p">()</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">rotation</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mf">90.0f</span><span class="o">*</span><span class="n">C_DEG2RAD_F</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="n">is_comm_set_data</span><span class="p">(</span><span class="n">portWrite</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">comm</span><span class="p">,</span><span class="w"> </span><span class="n">DID_FLASH_CONFIG</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">offsetof</span><span class="p">(</span><span class="n">nvm_flash_cfg_t</span><span class="p">,</span><span class="w"> </span><span class="n">insRotation</span><span class="p">),</span><span class="w"> </span><span class="n">rotation</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<h3 id="getting-data">Getting Data<a class="headerlink" href="#getting-data" title="Permanent link">&para;</a></h3>
<p>Data broadcasting or streaming is enabled by using the <strong><em>Realtime Message Controller</em></strong> (<strong>RMC</strong>) or the get data command.</p>
<h4 id="get-data-command">Get Data Command<a class="headerlink" href="#get-data-command" title="Permanent link">&para;</a></h4>
<p>The <code>is_comm_get_data()</code> function will encode a PKT_TYPE_GET_DATA message that enables broadcast of a given message at a multiple of the <a href="#data-source-update-rates"><em>Data Source Update Rates</em></a>.  Set the data rate (period multiple) to zero disable message broadcast and pull a single packet of data.  Set the data size and offset to zero to request the entire data set.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Ask for INS message w/ update 40ms period (4ms source period x 10).  Set data rate to zero to disable broadcast and pull a single packet.</span>
<span class="n">is_comm_get_data</span><span class="p">(</span><span class="n">portWrite</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">comm</span><span class="p">,</span><span class="w"> </span><span class="n">DID_INS_1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span><span class="w"></span>
</code></pre></div>

<h4 id="data-source-update-rates">Data Source Update Rates<a class="headerlink" href="#data-source-update-rates" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>DID</th>
<th>Default Update Rate (Period)</th>
</tr>
</thead>
<tbody>
<tr>
<td>DID_INS_[1-4]</td>
<td>(7ms default) Configured with DID_FLASH_CONFIG.startupNavDtMs</td>
</tr>
<tr>
<td>DID_IMU, <br/>DID_PIMU<sup>*</sup></td>
<td>(14ms default) Configured with DID_FLASH_CONFIG.startupImuDtMs</td>
</tr>
<tr>
<td>DID_BAROMETER</td>
<td>~20ms</td>
</tr>
<tr>
<td>DID_MAGNETOMETER_[1-2]</td>
<td>~20ms</td>
</tr>
<tr>
<td>DID_GPS[1-2]_[X] <br/>(Any DID beginning with DID_GPS)</td>
<td>(200ms default) Configured with DID_FLASH_CONFIG. startupGPSDtMs</td>
</tr>
<tr>
<td>All other DIDs</td>
<td>1ms</td>
</tr>
</tbody>
</table>
<p><sup>*DID_PIMU integration period (dt) and output data rate are the same as DID_FLASH_CONFIG.startupNavDtMs and cannot be output at any other rate. If a different output data rate is desired, DID_IMU which is derived from DID_PIMU can be used instead.</sup></p>
<h4 id="realtime-message-controller-rmc">Realtime Message Controller (RMC)<a class="headerlink" href="#realtime-message-controller-rmc" title="Permanent link">&para;</a></h4>
<p>The RMC is used to enable message broadcasting and provides updates from onboard data as soon as it becomes available with minimal latency.   All RMC messages can be enabled using the <a href="#get-data-command"><em>Get Data Command</em></a>, which is the preferred method, or by directly setting the RMC bits. The RMC bits are listed below. Message data rates are listed in the <a href="#data-source-update-rates"><em>Data Source Update Rates</em></a> table.</p>
<table>
<thead>
<tr>
<th>RMC Message</th>
</tr>
</thead>
<tbody>
<tr>
<td>RMC_BITS_INS[1-4]</td>
</tr>
<tr>
<td>RMC_BITS_DUAL_IMU, RMC_BITS_PIMU</td>
</tr>
<tr>
<td>RMC_BITS_BAROMETER</td>
</tr>
<tr>
<td>RMC_BITS_MAGNETOMETER[1-2]</td>
</tr>
<tr>
<td>RMC_BITS_GPS[1-2]_NAV</td>
</tr>
<tr>
<td>RMC_BITS_GPS_RTK_NAV, RMC_BITS_GPS_RTK_MISC</td>
</tr>
<tr>
<td>RMC_BITS_STROBE_IN_TIME</td>
</tr>
</tbody>
</table>
<p>The following is an example of how to use the RMC.  The <code>rmc.options</code> field controls whether RMC commands are applied to other serial ports.   <code>rmc.options = 0</code> will apply the command to the current serial port.</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="n">rmc_t</span><span class="w"> </span><span class="n">rmc</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Enable broadcasts of DID_INS_1 and DID_GPS_NAV</span>
<span class="w">    </span><span class="n">rmc</span><span class="p">.</span><span class="n">bits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RMC_BITS_INS1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">RMC_BITS_GPS1_POS</span><span class="p">;</span><span class="w">       </span>
<span class="w">    </span><span class="c1">// Remember configuration following reboot for automatic data streaming.</span>
<span class="w">    </span><span class="n">rmc</span><span class="p">.</span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RMC_OPTIONS_PERSISTENT</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="n">is_comm_set_data</span><span class="p">(</span><span class="n">portWrite</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">comm</span><span class="p">,</span><span class="w"> </span><span class="n">DID_RMC</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rmc</span><span class="p">);</span><span class="w"></span>
</code></pre></div>

<p>The update rate of the EKF is set by DID_FLASH_CONFIG.startupNavDtMs (reboot is required to apply the change).  Independently, the DID_INS_x broadcast period multiple can be used to set the output data rate down to 1ms.</p>
<h4 id="persistent-messages">Persistent Messages<a class="headerlink" href="#persistent-messages" title="Permanent link">&para;</a></h4>
<p>The <em>persistent messages</em> option saves the current data stream configuration to flash memory for use following reboot,  eliminating the need to re-enable messages following a reset or power cycle.  </p>
<ul>
<li><strong>To save persistent messages</strong> - (to flash memory), bitwise OR <code>RMC_OPTIONS_PERSISTENT (0x200)</code> with the RMC option field or set DID_CONFIG.system = 0x00000001 and DID_CONFIG.system = 0xFFFFFFFE.   See the <a href="../../software/SDK/CommunicationsBinary/#step-7-save-persistent-messages">save persistent messages example</a> in the Binary Communications example project.</li>
<li><strong>To disable persistent messages</strong> - a <a href="../../software/SDK/CommunicationsBinary/#step-4-stop-any-message-broadcasting">stop all broadcasts packet</a> followed by a <em>save persistent messages</em> command.   </li>
</ul>
<p><a href="../nmea/#persistent-messages">NMEA persistent messages</a> are also available. </p>
<h5 id="enabling-persistent-messages-evaltool">Enabling Persistent Messages - EvalTool<a class="headerlink" href="#enabling-persistent-messages-evaltool" title="Permanent link">&para;</a></h5>
<ul>
<li>Enable the desired messages in the EvalTool "Data Sets" tab. </li>
<li>Press the "Save Persistent" button in the EvalTool "Data Logs" tab to store the current message configuration to flash memory for use following reboot.</li>
<li>Reset the system and verify the messages are automatically streaming.  You can use the EvalTool-&gt;Data Logs dialog to view the streaming messages.</li>
</ul>
<p><strong>To disable all persistent messages using the EvalTool</strong>, click the "Stop Streaming" button and then "Save Persistent" button.  </p>
<h5 id="enabling-persistent-messages-cltool">Enabling Persistent Messages - CLTool<a class="headerlink" href="#enabling-persistent-messages-cltool" title="Permanent link">&para;</a></h5>
<p>Persistent messages are enabled using the CLTool by including the <code>-persistent</code> option along with the options for the desired messages in the command line.</p>
<div class="highlight"><pre><span></span><code>cltool -c /dev/ttyS3 -persistent -msgINS2 -msgGPS
</code></pre></div>

<h4 id="example-projects">Example Projects<a class="headerlink" href="#example-projects" title="Permanent link">&para;</a></h4>
<p>Examples on how to use the Inertial Sense SDK for binary communications are found in the <a href="../../software/SDK/CommunicationsBinary/">Binary Communications Example Project</a> and <a href="../../software/SDK/InertialSenseClassCLTool/">cltool project</a>.  <a href="../nmea/">NMEA communications</a> examples are found in the <a href="../../software/SDK/CommunicationsAscii/">NMEA Example Project</a>.</p>
<h3 id="parsing-data">Parsing Data<a class="headerlink" href="#parsing-data" title="Permanent link">&para;</a></h3>
<p>The <a href="https://github.com/inertialsense/InertialSenseSDK/blob/main/src/ISComm.h">ISComm</a> library in the <a href="https://github.com/inertialsense/InertialSenseSDK/">InertialSenseSDK</a> provides a communications parser that can parse InertialSense binary protocol as well as other protocols. </p>
<h4 id="one-byte-simple-method">One Byte (Simple Method)<a class="headerlink" href="#one-byte-simple-method" title="Permanent link">&para;</a></h4>
<p>The following parser code is simpler to implement.  This method uses the <code>is_comm_parse_byte()</code> function to parse one byte at a time of a data stream.  The return value is a non-zero protocol_type_t when valid data is found.    </p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">c</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">protocol_type_t</span><span class="w"> </span><span class="n">ptype</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Read from serial buffer until empty</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">serialPortReadChar</span><span class="p">(</span><span class="o">&amp;</span><span class="n">s_serialPort</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// timeMs = current_timeMs();</span>
<span class="w">        </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">is_comm_parse_byte</span><span class="p">(</span><span class="o">&amp;</span><span class="n">comm</span><span class="p">,</span><span class="w"> </span><span class="n">inByte</span><span class="p">))</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">_PTYPE_INERTIAL_SENSE_DATA</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">_PTYPE_UBLOX</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">_PTYPE_RTCM3</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="no">_PTYPE_NMEA</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</code></pre></div>

<h4 id="set-of-bytes-fast-method">Set of Bytes (Fast Method)<a class="headerlink" href="#set-of-bytes-fast-method" title="Permanent link">&para;</a></h4>
<p>The following parser code uses less processor time to parse data by copying multiple bytes at a time.  This method uses <code>is_comm_free()</code> and <code>is_comm_parse()</code> along with a serial port read or buffer copy.   The return value is a non-zero protocol_type_t when valid data is found. </p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="c1">// Read a set of bytes (fast method)</span>
<span class="w">    </span><span class="n">protocol_type_t</span><span class="w"> </span><span class="n">ptype</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Get available size of comm buffer.  is_comm_free() modifies comm-&gt;rxBuf pointers, call it before using comm-&gt;rxBuf.tail.</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">is_comm_free</span><span class="p">(</span><span class="n">comm</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Read data directly into comm buffer</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">serialPortRead</span><span class="p">(</span><span class="n">comm</span><span class="o">-&gt;</span><span class="n">rxBuf</span><span class="p">.</span><span class="n">tail</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">)))</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// Update comm buffer tail pointer</span>
<span class="w">        </span><span class="n">comm</span><span class="o">-&gt;</span><span class="n">rxBuf</span><span class="p">.</span><span class="n">tail</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"></span>

<span class="w">        </span><span class="c1">// Search comm buffer for valid packets</span>
<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">((</span><span class="n">ptype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">is_comm_parse</span><span class="p">(</span><span class="n">comm</span><span class="p">))</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">_PTYPE_NONE</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">ptype</span><span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">_PTYPE_INERTIAL_SENSE_DATA</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">_PTYPE_INERTIAL_SENSE_CMD</span><span class="p">:</span><span class="w"></span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">_PTYPE_UBLOX</span><span class="p">:</span><span class="w"></span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">_PTYPE_RTCM3</span><span class="p">:</span><span class="w"></span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="k">case</span><span class="w"> </span><span class="no">_PTYPE_NMEA</span><span class="p">:</span><span class="w"></span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</code></pre></div>

<h2 id="isb-packet-overview">ISB Packet Overview<a class="headerlink" href="#isb-packet-overview" title="Permanent link">&para;</a></h2>
<p>The IMX and GPX communicate using the Inertial Sense Binary (ISB) protocol.  This section details the ISB protocol packet structure specific for protocol 2.x (software releases 2.x).  Refer to the <a href="https://github.com/inertialsense/docs.inertialsense.com/blob/1.11.0/docs/user-manual/com-protocol/binary.md">release 1.x ISB protocol</a> document for a description of protocol 1.x (software releases 1.x).  The <a href="https://github.com/inertialsense/inertial-sense-sdk/blob/main/src/ISComm.h">Inertial-Sense-SDK ISComm</a> provides functions to encode and decode ISB packets. </p>
<h3 id="isb-packet">ISB Packet<a class="headerlink" href="#isb-packet" title="Permanent link">&para;</a></h3>
<p><img alt="packet_structure" src="../images/isb_structure.svg" /></p>
<p>The ISB packet structure is defined in the typedef <code>packet_t</code> found in <a href="https://github.com/inertialsense/inertial-sense-sdk/blob/main/src/ISComm.h">ISComm.h</a>.</p>
<h4 id="header-type-and-flags">Header Type and Flags<a class="headerlink" href="#header-type-and-flags" title="Permanent link">&para;</a></h4>
<p>The packet type and flags are found in the byte at offset 2 in the ISB packet.  The <strong>Type</strong> is the lower nibble and the <strong>Flags</strong> are the upper nibble.  The packet  and is defined in <a href="https://github.com/inertialsense/inertial-sense-sdk/blob/main/src/ISComm.h">ISComm.h</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">PKT_TYPE_INVALID</span><span class="w">                        </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">    </span><span class="c1">// Invalid packet id</span>
<span class="w">    </span><span class="n">PKT_TYPE_ACK</span><span class="w">                            </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">    </span><span class="c1">// (ACK) received valid packet</span>
<span class="w">    </span><span class="n">PKT_TYPE_NACK</span><span class="w">                           </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">    </span><span class="c1">// (NACK) received invalid packet</span>
<span class="w">    </span><span class="n">PKT_TYPE_GET_DATA</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">    </span><span class="c1">// Request for data to be broadcast, response is PKT_TYPE_DATA. See data structures for list of possible broadcast data.</span>
<span class="w">    </span><span class="n">PKT_TYPE_DATA</span><span class="w">                           </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">    </span><span class="c1">// Data sent in response to PKT_TYPE_GET_DATA (no PKT_TYPE_ACK is sent)</span>
<span class="w">    </span><span class="n">PKT_TYPE_SET_DATA</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">    </span><span class="c1">// Data sent, such as configuration options.  PKT_TYPE_ACK is sent in response.</span>
<span class="w">    </span><span class="n">PKT_TYPE_STOP_BROADCASTS_ALL_PORTS</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">    </span><span class="c1">// Stop all data broadcasts on all ports. Responds with an ACK</span>
<span class="w">    </span><span class="n">PKT_TYPE_STOP_DID_BROADCAST</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">    </span><span class="c1">// Stop a specific broadcast</span>
<span class="w">    </span><span class="n">PKT_TYPE_STOP_BROADCASTS_CURRENT_PORT</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">    </span><span class="c1">// Stop all data broadcasts on current port. Responds with an ACK</span>
<span class="w">    </span><span class="n">PKT_TYPE_COUNT</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">    </span><span class="c1">// The number of packet identifiers, keep this at the end!</span>
<span class="w">    </span><span class="n">PKT_TYPE_MAX_COUNT</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">   </span><span class="c1">// The maximum count of packet identifiers, 0x1F (PACKET_INFO_ID_MASK)</span>
<span class="w">    </span><span class="n">PKT_TYPE_MASK</span><span class="w">                           </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0F</span><span class="p">,</span><span class="w"> </span><span class="c1">// ISB packet type bitmask</span>

<span class="w">    </span><span class="n">ISB_FLAGS_MASK</span><span class="w">                          </span><span class="o">=</span><span class="w"> </span><span class="mh">0xF0</span><span class="p">,</span><span class="w"> </span><span class="c1">// ISB packet flags bitmask (4 bits upper nibble)</span>
<span class="w">    </span><span class="n">ISB_FLAGS_EXTENDED_PAYLOAD</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="mh">0x10</span><span class="p">,</span><span class="w"> </span><span class="c1">// Payload is larger than 2048 bytes and extends into next packet.</span>
<span class="w">    </span><span class="n">ISB_FLAGS_PAYLOAD_W_OFFSET</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="mh">0x20</span><span class="p">,</span><span class="w"> </span><span class="c1">// The first two bytes of the payload are the byte offset of the payload data into the data set.</span>
<span class="p">}</span><span class="w"> </span><span class="n">eISBPacketFlags</span><span class="p">;</span><span class="w"></span>
</code></pre></div>

<h4 id="header-did">Header DID<a class="headerlink" href="#header-did" title="Permanent link">&para;</a></h4>
<p>The data ID (DID) values are defined at the top of <a href="https://github.com/inertialsense/inertial-sense-sdk/blob/main/src/data_sets.h#L33">data_sets.h</a> and identify which data set is requested or contained in the ISB packet.</p>
<h4 id="header-payload-size">Header Payload Size<a class="headerlink" href="#header-payload-size" title="Permanent link">&para;</a></h4>
<p>In the ISB protocol, the packet payload size is a 16-bit unsigned integer (uint16) that specifies the payloads byte length, excluding the packet header and footer/checksum.  If the ISB_FLAGS_PAYLOAD_W_OFFSET flag (0x20) is set in the headers flags byte, the optional 16-bit offset value is included in the payload length.</p>
<h4 id="footer-checksum">Footer Checksum<a class="headerlink" href="#footer-checksum" title="Permanent link">&para;</a></h4>
<p>The ISB packet footer contains a Fletcher-16 (16-bit integer).  The following algorithm is used for this checksum and is found in <a href="https://github.com/inertialsense/inertial-sense-sdk/blob/main/src/ISComm.h">ISComm.h</a>.   </p>
<div class="highlight"><pre><span></span><code><span class="kt">uint16_t</span><span class="w"> </span><span class="nf">is_comm_fletcher16</span><span class="p">(</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">cksum_init</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">size</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">checksum16_u</span><span class="w"> </span><span class="n">cksum</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">cksum</span><span class="p">.</span><span class="n">ck</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cksum_init</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">cksum</span><span class="p">.</span><span class="n">a</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">((</span><span class="kt">uint8_t</span><span class="o">*</span><span class="p">)</span><span class="n">data</span><span class="p">)[</span><span class="n">i</span><span class="p">];</span><span class="w"></span>
<span class="w">        </span><span class="n">cksum</span><span class="p">.</span><span class="n">b</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">cksum</span><span class="p">.</span><span class="n">a</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w">   </span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">cksum</span><span class="p">.</span><span class="n">ck</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>

<p>The ISB packet footer checksum is computed using the Fletcher-16 algorithm starting with an initial value of zero and sequencing over the entire packet (excluding the two footer checksum bytes).</p>
<h3 id="isb-packet-with-data-offset">ISB Packet with Data Offset<a class="headerlink" href="#isb-packet-with-data-offset" title="Permanent link">&para;</a></h3>
<p><img alt="Packet Structure with data offset" src="../images/isb_structure_w_offset.svg" /></p>
<p>*The first two bytes of the payload may be a uint16 offset for the data offset in the target data set when the <code>ISB_FLAGS_PAYLOAD_W_OFFSET</code> flag is set in the header flags.</p>
<h3 id="isb-packet-with-no-payload">ISB Packet with No Payload<a class="headerlink" href="#isb-packet-with-no-payload" title="Permanent link">&para;</a></h3>
<p><img alt="" src="../images/isb_structure_no_payload.svg" /></p>
<p>Packet types <code>PKT_TYPE_STOP_BROADCASTS_ALL_PORTS</code>, <code>PKT_TYPE_STOP_DID_BROADCAST</code>, 
<code>PKT_TYPE_STOP_BROADCASTS_CURRENT_PORT</code> have payload size zero and no payload.  </p>
<h3 id="isb-get-data-packet">ISB Get Data Packet<a class="headerlink" href="#isb-get-data-packet" title="Permanent link">&para;</a></h3>
<p><img alt="" src="../images/isb_structure_get_data.svg" /></p>
<p>The <strong><em>Get Data</em></strong> packet of type <code>PKT_TYPE_GET_DATA</code> is used to query specific data according to data set ID, size, offset, and streaming period multiple.  The payload size is 8.  Setting the payload period to zero will result in a single response and a continuous stream of data for a non-zero period.</p>
<h2 id="stop-broadcasts-packets">Stop Broadcasts Packets<a class="headerlink" href="#stop-broadcasts-packets" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <a href="../nmea/#stpb">NEMA $STPB</a> stop broadcasts command is recommended as the protocol version-independent method for disabling data streaming. </p>
</div>
<p>Two <em>stop all broadcasts</em> packets are special packet types that will disable all binary and NMEA data streams.  The following functions calls are provided in the SDK to generate the stop all broadcasts packets.  </p>
<h3 id="all-ports">All Ports<a class="headerlink" href="#all-ports" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><span class="n">is_comm_stop_broadcasts_all_ports</span><span class="p">(</span><span class="n">portWrite</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">comm</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
The hexadecimal string to stop all broadcasts on all ports is: </p>
<div class="highlight"><pre><span></span><code><span class="mh">0xef</span><span class="w"> </span><span class="mh">0x49</span><span class="w"> </span><span class="mh">0x06</span><span class="w"> </span><span class="mh">0x00</span><span class="w"> </span><span class="mh">0x00</span><span class="w"> </span><span class="mh">0x00</span><span class="w"> </span><span class="mh">0x3e</span><span class="w"> </span><span class="mh">0x1f</span><span class="w"></span>
</code></pre></div>

<h3 id="current-port-only">Current Port Only<a class="headerlink" href="#current-port-only" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">is_comm_stop_broadcasts_current_port</span><span class="p">(</span><span class="n">portWrite</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">comm</span><span class="p">);</span><span class="w"></span>
</code></pre></div>

<p>The hexadecimal string to stop all broadcasts on the current port is:  </p>
<div class="highlight"><pre><span></span><code><span class="mh">0xef</span><span class="w"> </span><span class="mh">0x49</span><span class="w"> </span><span class="mh">0x08</span><span class="w"> </span><span class="mh">0x00</span><span class="w"> </span><span class="mh">0x00</span><span class="w"> </span><span class="mh">0x00</span><span class="w"> </span><span class="mh">0x40</span><span class="w"> </span><span class="mh">0x27</span><span class="w"></span>
</code></pre></div>

<h2 id="rmc-presets">RMC Presets<a class="headerlink" href="#rmc-presets" title="Permanent link">&para;</a></h2>
<h3 id="rmc-preset-stream-ppd">RMC Preset Stream PPD<a class="headerlink" href="#rmc-preset-stream-ppd" title="Permanent link">&para;</a></h3>
<p>The hexadecimal string for the RMC Preset enable PPD is:</p>
<div class="highlight"><pre><span></span><code><span class="mh">0xef</span><span class="w"> </span><span class="mh">0x49</span><span class="w"> </span><span class="mh">0x05</span><span class="w"> </span><span class="mh">0x09</span><span class="w"> </span><span class="mh">0x0c</span><span class="w"> </span><span class="mh">0x00</span><span class="w"> </span><span class="mh">0xe2</span><span class="w"> </span><span class="mh">0x3c</span><span class="w"> </span><span class="mh">0x35</span><span class="w"> </span><span class="mh">0x01</span><span class="w"> </span><span class="mh">0x90</span><span class="w"> </span><span class="mh">0x00</span><span class="w"> </span><span class="mh">0x00</span><span class="w"> </span><span class="mh">0xc0</span><span class="w"> </span><span class="mh">0x00</span><span class="w"> </span><span class="mh">0x01</span><span class="w"> </span><span class="mh">0x00</span><span class="w"> </span><span class="mh">0x00</span><span class="w"> </span><span class="mh">0xf7</span><span class="w"> </span><span class="mh">0xb0</span><span class="w"></span>
</code></pre></div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../DID-descriptions/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Data Sets (DIDs)" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Data Sets (DIDs)
            </div>
          </div>
        </a>
      
      
        
        <a href="../nmea/" class="md-footer__link md-footer__link--next" aria-label="Next: NMEA" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              NMEA
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.math"], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
        <script src="https://js.hs-scripts.com/3481185.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
    
  </body>
</html>