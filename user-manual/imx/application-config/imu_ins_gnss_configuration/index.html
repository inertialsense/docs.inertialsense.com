
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.inertialsense.com/user-manual/imx/application-config/imu_ins_gnss_configuration/">
      
      <link rel="icon" href="../../../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-8.5.10">
    
    
      
        <title>IMU INS GNSS Config - InertialSense</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.2505c338.min.css">
        
          
          
          <meta name="theme-color" content="#ef5552">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../custom_theme/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="red">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#imu-ins-gnss-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="InertialSense" class="md-header__button md-logo" aria-label="InertialSense" data-md-component="logo">
      
  <img src="../../../../img/Logo_Circle_white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            InertialSense
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              IMU INS GNSS Config
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="InertialSense" class="md-nav__button md-logo" aria-label="InertialSense" data-md-component="logo">
      
  <img src="../../../../img/Logo_Circle_white.svg" alt="logo">

    </a>
    InertialSense
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../datasheets/datasheets/" class="md-nav__link">
        Data Sheets
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../dimensions/dimensions/" class="md-nav__link">
        Dimensions and Pinouts
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting Started" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting-started/Overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting-started/IMX-5/" class="md-nav__link">
        IMX-5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../getting-started/GPX-1/" class="md-nav__link">
        GPX-1
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Hardware Integration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Hardware Integration" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Hardware Integration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/module_imx6/" class="md-nav__link">
        IMX-6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/module_imx5/" class="md-nav__link">
        IMX-5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/module_gpx1/" class="md-nav__link">
        GPX-1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/rugged3/" class="md-nav__link">
        Rugged-3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/IG1/" class="md-nav__link">
        IG-1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/IG2/" class="md-nav__link">
        IG-2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/IK1/" class="md-nav__link">
        IK-1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/hardware_design/" class="md-nav__link">
        Design Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../hardware/reflow/" class="md-nav__link">
        Reflow Soldering
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Software / SDK
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Software / SDK" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Software / SDK
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../software/evaltool/" class="md-nav__link">
        EvalTool
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../software/cltool/" class="md-nav__link">
        CLTool
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../software/SDK/logInspector/" class="md-nav__link">
        Log Inspector
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../software/SDK/overview/" class="md-nav__link">
        SDK Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_5" type="checkbox" id="__nav_6_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_5">
          Example Projects
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Example Projects" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_5">
          <span class="md-nav__icon md-icon"></span>
          Example Projects
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../software/SDK/CommunicationsBinary/" class="md-nav__link">
        Comm-Binary (C)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../software/SDK/CommunicationsAscii/" class="md-nav__link">
        Comm-NMEA (C)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../software/SDK/CommunicationsArduino/" class="md-nav__link">
        Comm-Arduino (C)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../software/SDK/FirmwareUpdate/" class="md-nav__link">
        Firmware Update (C)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../software/SDK/InertialSenseClassCLTool/" class="md-nav__link">
        InertialSense Class CLTool (C++)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../software/SDK/DataLogger/" class="md-nav__link">
        Data Logging (C++)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          IMX
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="IMX" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          IMX
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1" type="checkbox" id="__nav_7_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7_1">
          Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuration" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_1">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../infield_calibration/" class="md-nav__link">
        Infield Calibration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../platform_configuration/" class="md-nav__link">
        Platform Config
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          IMU INS GNSS Config
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        IMU INS GNSS Config
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#translation" class="md-nav__link">
    Translation
  </a>
  
    <nav class="md-nav" aria-label="Translation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#coordinate-frame-relationship" class="md-nav__link">
    Coordinate Frame Relationship
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensor-rotation-hardware-frame-to-sensor-frame" class="md-nav__link">
    Sensor Rotation (Hardware Frame to Sensor Frame)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ins-rotation" class="md-nav__link">
    INS Rotation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ins-offset" class="md-nav__link">
    INS Offset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manually-aligning-the-ins-after-mounting" class="md-nav__link">
    Manually Aligning the INS After Mounting
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#infield-calibration" class="md-nav__link">
    Infield Calibration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gnss-antenna-offset" class="md-nav__link">
    GNSS Antenna Offset
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#imu-sample-and-navigation-periods" class="md-nav__link">
    IMU Sample and Navigation Periods
  </a>
  
    <nav class="md-nav" aria-label="IMU Sample and Navigation Periods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#imu-latency" class="md-nav__link">
    IMU Latency
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navigation-update-and-output-periods" class="md-nav__link">
    Navigation Update and Output Periods
  </a>
  
    <nav class="md-nav" aria-label="Navigation Update and Output Periods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minimum-nav-output-and-update-period-maximum-data-rate" class="md-nav__link">
    Minimum NAV Output and Update Period (Maximum Data Rate)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ins-gnss-dynamic-model" class="md-nav__link">
    INS-GNSS Dynamic Model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disable-magnetometer-and-barometer-updates" class="md-nav__link">
    Disable Magnetometer and Barometer Updates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disable-zero-velocity-updates" class="md-nav__link">
    Disable Zero Velocity Updates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disable-zero-angular-rate-updates" class="md-nav__link">
    Disable Zero Angular Rate Updates
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../system_configuration/" class="md-nav__link">
        System Config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../time_sync/" class="md-nav__link">
        Time Sync/Strobe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../zero_motion_command/" class="md-nav__link">
        Zero Motion Command
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../UART/" class="md-nav__link">
        UART
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../world_magnetic_model/" class="md-nav__link">
        World Magnetic Model
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2" type="checkbox" id="__nav_7_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_2">
          Dead Reckoning
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Dead Reckoning" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Dead Reckoning
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dead-reckoning/dead_reckoning/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../dead-reckoning/dead_reckoning_examples/" class="md-nav__link">
        Examples
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../shock-rejection/imu_shock_rejection/" class="md-nav__link">
        IMU Shock Rejection
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          GPX
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="GPX" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          GPX
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gpx/configuration/" class="md-nav__link">
        Configuration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/GPX_system_status/" class="md-nav__link">
        GPX System Status
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Communication Protocols
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Communication Protocols" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Communication Protocols
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../com-protocol/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../com-protocol/DID-descriptions/" class="md-nav__link">
        Data Sets (DIDs)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../com-protocol/isb/" class="md-nav__link">
        Inertial Sense Binary (ISB)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../com-protocol/nmea/" class="md-nav__link">
        NMEA
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../com-protocol/SPI/" class="md-nav__link">
        SPI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../com-protocol/CAN/" class="md-nav__link">
        CAN
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          GNSS - RTK
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="GNSS - RTK" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          GNSS - RTK
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_1" type="checkbox" id="__nav_10_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_1">
          Multi-band GNSS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Multi-band GNSS" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_1">
          <span class="md-nav__icon md-icon"></span>
          Multi-band GNSS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gnss/multi_band_gnss_overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gnss/multi_band_GPX/" class="md-nav__link">
        IS GPX-1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gnss/multi_band_F9P/" class="md-nav__link">
        ublox F9P
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gnss/external_gnss/" class="md-nav__link">
        External NMEA GNSS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gnss/gnss_antennas/" class="md-nav__link">
        GNSS Antennas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gnss/gnss_constellations/" class="md-nav__link">
        GNSS Constellations
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_5" type="checkbox" id="__nav_10_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_5">
          RTK Positioning
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="RTK Positioning" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_5">
          <span class="md-nav__icon md-icon"></span>
          RTK Positioning
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gnss/rtk_positioning_overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gnss/rtk_rover/" class="md-nav__link">
        Rover Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gnss/rtk_base/" class="md-nav__link">
        Base Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gnss/rtk_ntrip/" class="md-nav__link">
        NTRIP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gnss/ublox_pointperfect/" class="md-nav__link">
        Point Perfect
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gnss/SBAS/" class="md-nav__link">
        SBAS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../gnss/rtk_compassing/" class="md-nav__link">
        RTK Compassing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          Data Logging/Plotting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data Logging/Plotting" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Data Logging/Plotting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../logging-plotting/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../logging-plotting/data_logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../logging-plotting/data_plotting/" class="md-nav__link">
        Plotting
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/bootloader/" class="md-nav__link">
        Bootloader
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/coordinate_frames/" class="md-nav__link">
        Coordinate Frames
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/definitions/" class="md-nav__link">
        Definitions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/imu_specifications/" class="md-nav__link">
        IMU Specifications
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/interference/" class="md-nav__link">
        Interference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/magnetometer/" class="md-nav__link">
        Magnetometer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/IMX_system_status/" class="md-nav__link">
        System Status
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/user_manual_pdf/" class="md-nav__link">
        User Manual PDF
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15" type="checkbox" id="__nav_15" >
      
      
      
      
        <label class="md-nav__link" for="__nav_15">
          Troubleshooting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Troubleshooting" data-md-level="1">
        <label class="md-nav__title" for="__nav_15">
          <span class="md-nav__icon md-icon"></span>
          Troubleshooting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/firmware/" class="md-nav__link">
        Firmware
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/chip_erase/" class="md-nav__link">
        Chip Erase
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/gnss/" class="md-nav__link">
        GNSS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/imx_bootloader/" class="md-nav__link">
        IMX Bootloader
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#translation" class="md-nav__link">
    Translation
  </a>
  
    <nav class="md-nav" aria-label="Translation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#coordinate-frame-relationship" class="md-nav__link">
    Coordinate Frame Relationship
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensor-rotation-hardware-frame-to-sensor-frame" class="md-nav__link">
    Sensor Rotation (Hardware Frame to Sensor Frame)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ins-rotation" class="md-nav__link">
    INS Rotation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ins-offset" class="md-nav__link">
    INS Offset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manually-aligning-the-ins-after-mounting" class="md-nav__link">
    Manually Aligning the INS After Mounting
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#infield-calibration" class="md-nav__link">
    Infield Calibration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gnss-antenna-offset" class="md-nav__link">
    GNSS Antenna Offset
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#imu-sample-and-navigation-periods" class="md-nav__link">
    IMU Sample and Navigation Periods
  </a>
  
    <nav class="md-nav" aria-label="IMU Sample and Navigation Periods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#imu-latency" class="md-nav__link">
    IMU Latency
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#navigation-update-and-output-periods" class="md-nav__link">
    Navigation Update and Output Periods
  </a>
  
    <nav class="md-nav" aria-label="Navigation Update and Output Periods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#minimum-nav-output-and-update-period-maximum-data-rate" class="md-nav__link">
    Minimum NAV Output and Update Period (Maximum Data Rate)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ins-gnss-dynamic-model" class="md-nav__link">
    INS-GNSS Dynamic Model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disable-magnetometer-and-barometer-updates" class="md-nav__link">
    Disable Magnetometer and Barometer Updates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disable-zero-velocity-updates" class="md-nav__link">
    Disable Zero Velocity Updates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#disable-zero-angular-rate-updates" class="md-nav__link">
    Disable Zero Angular Rate Updates
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="imu-ins-gnss-configuration">IMU INS GNSS Configuration<a class="headerlink" href="#imu-ins-gnss-configuration" title="Permanent link">&para;</a></h1>
<h2 id="translation">Translation<a class="headerlink" href="#translation" title="Permanent link">&para;</a></h2>
<p>The IMX can be mounted and operated in any arbitrary orientation.  It is often desirable and conventional to translate the IMX output so that it is translated into the vehicle frame located at certain point for control and navigation of the vehicle.  This is done using the <strong><em>Sensor Rotation</em></strong>, <strong><em>INS Rotation</em></strong>, and <strong><em>INS Offset</em></strong> parameters.  </p>
<p>In most common applications, output is translated to the vehicle frame (X to the front, Y to the right, and Z down): </p>
<ul>
<li><em>Sensor Rotation</em> provides gross rotation of the IMU output in multiples of 90°.</li>
<li><em>INS Rotation</em> provides small angle alignment of the INS output.   </li>
<li><em>INS Offset</em> shifts the location from the INS output.</li>
</ul>
<h3 id="coordinate-frame-relationship">Coordinate Frame Relationship<a class="headerlink" href="#coordinate-frame-relationship" title="Permanent link">&para;</a></h3>
<p>The relationship between the Hardware Frame, Sensor Frame, and INS Output Frame are as follows.  </p>
<p><img alt="" src="../../../images/coordinate_frame_relationship.svg" /></p>
<p>The <strong><em>Hardware Frame</em></strong> and <strong><em>Sensor Frame</em></strong> are equivalent when the <strong><em>Sensor Rotation</em></strong> in <code>DID_FLASH_CONFIG.sensorConfig</code> is zero.  The <strong><em>Hardware Frame origin</em></strong> and <strong><em>Sensor Frame origin</em></strong> are always at the same location and may differ in direction according to the <strong><em>Sensor Rotation</em></strong> in <code>DID_FLASH_CONFIG.sensorConfig</code>.  The <strong><em>Sensor Frame</em></strong> and <strong><em>INS output Frame</em></strong> are equivalent when the <code>DID_FLASH_CONFIG.insRotation</code> and <code>DID_FLASH_CONFIG.insOffset</code> are zero.  </p>
<h3 id="sensor-rotation-hardware-frame-to-sensor-frame">Sensor Rotation (Hardware Frame to Sensor Frame)<a class="headerlink" href="#sensor-rotation-hardware-frame-to-sensor-frame" title="Permanent link">&para;</a></h3>
<p>The <em>Sensor Rotation</em> is used to rotate the IMU and magnetometer output from the hardware frame to the <a href="../../../reference/coordinate_frames/#sensor-frame">sensor frame</a> by <strong>multiples of 90°</strong>.  This is done using the <code>SENSOR_CFG_SENSOR_ROTATION_MASK</code> bits of the <code>DID_FLASH_CONFIG.sensorConfig</code> as defined in <code>enum eSensorConfig</code>.  The Sensor Rotation is defined in X,Y,Z rotations about the corresponding axes and applied in the order of Z,Y,X.  This rotation is recommended for gross rotations.   </p>
<h3 id="ins-rotation">INS Rotation<a class="headerlink" href="#ins-rotation" title="Permanent link">&para;</a></h3>
<p>The <em>INS rotation</em> is used to convert the INS output from the <a href="../../../reference/coordinate_frames/#sensor-frame">sensor frame</a> to the vehicle frame.  This is useful if the sensor frame and vehicle frame are not aligned.  The actual INS rotation parameters are <code>DID_FLASH_CONFIG.insRotation[3]</code> (X, Y, Z) in radians.  The <em>INS rotation</em> values describes the rotation from the INS sensor frame to the intermediate frame in order of Z, Y, X.     </p>
<h3 id="ins-offset">INS Offset<a class="headerlink" href="#ins-offset" title="Permanent link">&para;</a></h3>
<p>The <em>INS offset</em> is used to shift the location of the INS output and is applied following the INS Rotation.  This offset can be used to move the IMX location from the origin of the sensor frame to any arbitrary location, often a control navigation point on the vehicle. </p>
<h3 id="manually-aligning-the-ins-after-mounting">Manually Aligning the INS After Mounting<a class="headerlink" href="#manually-aligning-the-ins-after-mounting" title="Permanent link">&para;</a></h3>
<p><strong>NOTE for use:</strong> </p>
<ul>
<li>The <a href="../infield_calibration/">Infield Calibration</a> process can be used instead of this process to automatically measure and align the INS with the vehicle frame for INS rotations less than 15°.</li>
<li>If using software release 1.8.4 or newer, we recommend using the <code>DID_FLASH_CONFIG.sensorConfig</code> to rotate the sensor frame by 90° to near level before following the steps below.</li>
</ul>
<p>The following process uses the IMX to measure and correct for the IMX mounting angle. </p>
<ol>
<li>
<p>Set <code>DID_FLASH_CONFIG.insRotation</code> to zero. </p>
</li>
<li>
<p>Set the sensor on the ground at various known orientations and record the INS quaternion output (DID_INS_2).  Using the Euler output (DID_INS_1) can be used if the pitch is less than 15°.  It is recommended to use the EKF <a href="../zero_motion_command/#zero-motion-command">Zero Motion Command</a> to ensure the EKF bias estimation and attitude have stabilized quickly before measuring the INS attitude.</p>
</li>
<li>
<p>Find the difference between the known orientations and the measured INS orientations and average these differences together.</p>
</li>
<li>
<p>Negate this average difference and enter that into the <code>DID_FLASH_CONFIG.insRotation</code>. This value is in Euler, however it is OK for this step as this rotation should have just been converted from quaternion to Euler and will be converted back to quaternion on-board for the runtime rotation.</p>
</li>
</ol>
<h2 id="infield-calibration">Infield Calibration<a class="headerlink" href="#infield-calibration" title="Permanent link">&para;</a></h2>
<p>The <a href="../infield_calibration/"><em>Infield Calibration</em></a> provides a method to 1.) zero IMU biases and 2.) zero INS attitude to align the INS output frame with the vehicle frame.  These steps can be run together or independently.</p>
<h2 id="gnss-antenna-offset">GNSS Antenna Offset<a class="headerlink" href="#gnss-antenna-offset" title="Permanent link">&para;</a></h2>
<p>If the setup includes a significant distance (40cm or more) between the GPS antenna and the IMX central unit, enter a non-zero value for the GPS lever arm, <code>DID_FLASH_CONFIG.gps1AntOffset</code> (or  <code>DID_FLASH_CONFIG.gpsAnt2Offset</code>) X,Y,Z offset in meters from Sensor Frame origin to GPS antenna.  The Sensor Frame origin and Hardware Frame origin are always at the same location but may differ in direction according to the Sensor Rotation.</p>
<h2 id="imu-sample-and-navigation-periods">IMU Sample and Navigation Periods<a class="headerlink" href="#imu-sample-and-navigation-periods" title="Permanent link">&para;</a></h2>
<p>The IMU sample period is configured by setting <code>DID_FLASH_CONFIG.startupImuDtMs</code>  in milliseconds.  This parameter determines how frequently the IMU is measured and data integrated into the <code>DID_PIMU</code> data.  <code>DID_FLASH_CONFIG.startupImuDtMs</code> also automatically sets the bandwidth of the IMU anti-aliasing filter to less than one half the Nyquist frequency (i.e. &lt; 250 / startupImuDtMs).  </p>
<p><img alt="IMU Chain" src="../../../images/imu_chain.svg" /></p>
<p>The preintegrated IMU (PIMU) a.k.a. Coning and Sculling (delta theta, delta velocity) integrals serve as an anti-aliased moving average of the IMU value.  The <code>DID_IMU</code>  is the derivative of the <code>DID_PIMU</code> value over a single integration period.</p>
<h3 id="imu-latency">IMU Latency<a class="headerlink" href="#imu-latency" title="Permanent link">&para;</a></h3>
<p>The IMU low-pass filter (LPF) adds latency (delay) to the signal in the IMU output.  This latency can be expressed as: </p>
<div class="arithmatex">
<div class="MathJax_Preview">
IMU Latency \cong \frac{2.197}{LPF bandwidth}
</div>
<script type="math/tex; mode=display">
IMU Latency \cong \frac{2.197}{LPF bandwidth}
</script>
</div>
<p>The default IMU sensor bandwidths (cutoff frequencies) and corresponding signal latencies are:</p>
<table>
<thead>
<tr>
<th>Sensor</th>
<th>Bandwidth</th>
<th>Signal Latency</th>
</tr>
</thead>
<tbody>
<tr>
<td>Gyro</td>
<td>539 Hz</td>
<td>4.1 ms</td>
</tr>
<tr>
<td>Accelerometer</td>
<td>416 Hz</td>
<td>5.3 ms</td>
</tr>
</tbody>
</table>
<!-- Note that the IMX INS output timestamp does not account for IMU signal latency.  As a result the INS output timestamp is shifted approximately by the amount IMU latency. -->

<h3 id="navigation-update-and-output-periods">Navigation Update and Output Periods<a class="headerlink" href="#navigation-update-and-output-periods" title="Permanent link">&para;</a></h3>
<p>The navigation filter output period should be set using the flash parameter <code>DID_FLASH_CONFIG.startupNavDtMs</code>.  This value sets the <code>DID_SYS_PARAMS.navOutputDtMs</code> and <code>DID_SYS_PARAMS.navUpdateDtMs</code> during startup of the IMX.</p>
<p>The <strong>navigation filter output period</strong> (<code>DID_SYS_PARAMS.navOutputDtMs</code>) determines the EKF output data rate, the maximum rate for messages DID_INS_1, DID_INS_2, and DID_INS_3.</p>
<p>The <strong>navigation filter update period</strong> (<code>DID_SYS_PARAMS.navUpdateDtMs</code>) controls the EKF update rate and sets the standard integration period for the preintegrated IMU (PIMU) output.  This parameter is automatically adjusted based on the value of <code>DID_SYS_PARAMS.navOutputDtMs</code> and the amount of CPU available.</p>
<h4 id="minimum-nav-output-and-update-period-maximum-data-rate">Minimum NAV Output and Update Period (Maximum Data Rate)<a class="headerlink" href="#minimum-nav-output-and-update-period-maximum-data-rate" title="Permanent link">&para;</a></h4>
<p>The following table lists the output and update period minimum limits for the IMX. </p>
<table>
<thead>
<tr>
<th>Operation Mode</th>
<th>IMX-5 Minimum<br/>Output Period / Update Period</th>
<th>IMX-6 Minimum<br/>Output Period / Update Period</th>
</tr>
</thead>
<tbody>
<tr>
<td>INS (GPS enabled)</td>
<td>7 ms (142 Hz) / 14 ms</td>
<td>2 ms (500 Hz) / 4 ms</td>
</tr>
<tr>
<td>AHRS (GPS disabled)</td>
<td>5 ms (200 Hz) / 10 ms</td>
<td>2 ms (500 Hz) / 4 ms</td>
</tr>
<tr>
<td>VRS (GPS and <br/>magnetometer disabled)</td>
<td>4 ms (250 Hz) / 8 ms</td>
<td>2 ms (500 Hz) / 4 ms</td>
</tr>
</tbody>
</table>
<h2 id="ins-gnss-dynamic-model">INS-GNSS Dynamic Model<a class="headerlink" href="#ins-gnss-dynamic-model" title="Permanent link">&para;</a></h2>
<p>The <code>DID_FLASH_CONFIG.dynamicModel</code> setting allows the user to adjust how the EKF behaves in different dynamic environments. All values except for 2 (STATIONARY) and 8 (AIR &lt;4g) are experimental. The user is encouraged to attempt to use different settings to improve performance, however in most applications
the default setting, 8: airborne &lt;4g, will yield best performance.</p>
<p>The STATIONARY configuration (dynamicModel = 2) can be used to configure the EKF for static applications. It is a permanent implementation of the <a href="../zero_motion_command/">Zero Motion Command</a> which will reduce EKF drift under stationary conditions.</p>
<h2 id="disable-magnetometer-and-barometer-updates">Disable Magnetometer and Barometer Updates<a class="headerlink" href="#disable-magnetometer-and-barometer-updates" title="Permanent link">&para;</a></h2>
<p>Magnetometer and barometer updates (fusion) into the INS and AHRS filter (Kalman filter) can be disabled by setting the following bits in <code>DID_FLASH_CONFIG.sysCfgBits</code>.</p>
<table>
<thead>
<tr>
<th>Bit Name</th>
<th>Bit Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>SYS_CFG_BITS_DISABLE_MAGNETOMETER_FUSION</td>
<td>0x00001000</td>
<td>Disable magnetometer fusion into EKF</td>
</tr>
<tr>
<td>SYS_CFG_BITS_DISABLE_BAROMETER_FUSION</td>
<td>0x00002000</td>
<td>Disable barometer fusion into EKF</td>
</tr>
</tbody>
</table>
<p>These settings can be disabled using the General Settings tab of the EvalTool.</p>
<p><center></p>
<p><img alt="evaltool_general_settings" src="../../../images/evaltool_general_settings2.png" /></p>
<p></center></p>
<h2 id="disable-zero-velocity-updates">Disable Zero Velocity Updates<a class="headerlink" href="#disable-zero-velocity-updates" title="Permanent link">&para;</a></h2>
<p>Zero velocity updates (ZUPT) rely on GPS and/or wheel encoder data. In some cases there can be a slight lag/deviation when starting motion while simultaneously rotating. This is because GPS data is updated at 5 Hz and it takes a few samples to detect motion after a period of no motion. When ZUPT is enabled, it acts as a virtual velocity sensor telling the system that its velocity is zero. It may conflict briefly with GPS velocity observation when starting motion. If a slight lag at the beginning of motion is an issue, ZUPT may be disabled. Generally it should be enabled (Default). It can be disabled using <code>DID_FLASH_CONFIG.sysCfgBits</code> or using the General Settings tab of the EvalTool.</p>
<h2 id="disable-zero-angular-rate-updates">Disable Zero Angular Rate Updates<a class="headerlink" href="#disable-zero-angular-rate-updates" title="Permanent link">&para;</a></h2>
<p>Zero angular rate updates (ZARU) rely on analysis of either IMU (gyro) data or wheel encoders when available. When angular motion is very slow and no wheel encoders are available a zero angular rate may be mistakenly detected, which will lead to gyro bias estimation errors. In these cases it can be beneficial  to disable ZARU if the applications has slow rotation rates (approximately below 3 deg/s). It is not encouraged to disable ZARU if there is no rotation or faster rotation. It can be disabled using <code>DID_FLASH_CONFIG.sysCfgBits</code> or using the General Settings tab of the EvalTool.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../platform_configuration/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Platform Config" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Platform Config
            </div>
          </div>
        </a>
      
      
        
        <a href="../system_configuration/" class="md-footer__link md-footer__link--next" aria-label="Next: System Config" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              System Config
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["content.math"], "search": "../../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
        <script src="https://js.hs-scripts.com/3481185.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
    
  </body>
</html>